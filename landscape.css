/* =============================================
   LANDSCAPE MODE SUPPORT
   iOS Safari ignores manifest orientation lock
   ============================================= */

@media screen and (orientation: landscape) {
    /* Split screen: 60% map, 40% panel */
    
    /* Map takes left 60% - FULL HEIGHT */
    .map-view-container {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        width: 60vw !important;
        height: 100vh !important;
        bottom: 0 !important;
        z-index: 1 !important; /* Below panel */
    }
    
    #map-container {
        width: 100% !important;
        height: 100% !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
    }
    
    /* Panel takes right 40% - static, no dragging */
    .arrivals-panel {
        position: fixed !important;
        top: 0 !important;
        left: 60vw !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 40vw !important;
        height: 100vh !important;
        transform: none !important; /* No sliding */
        border-radius: 0 !important;
        padding: 16px !important;
        padding-top: 80px !important; /* Space for floating controls */
        overflow-y: auto !important;
        overflow-x: hidden !important;
        touch-action: pan-y !important; /* Allow vertical scrolling only */
        -webkit-overflow-scrolling: touch !important; /* Smooth scrolling on iOS */
        z-index: 1001 !important; /* Above map */
    }
    
    /* Disable sheet grabber in landscape */
    .sheet-grabber {
        display: none !important;
    }
    
    /* Header - top left of map */
    .glass-header {
        position: fixed !important;
        top: calc(8px + env(safe-area-inset-top)) !important;
        left: 8px !important;
        right: auto !important;
        width: auto !important;
        z-index: 10200 !important;
    }
    
    /* Arabic title smaller in landscape */
    .arabic-title {
        font-size: 1.1rem !important;
    }
    
    /* Settings gear - next to logo */
    .settings-badge {
        position: fixed !important;
        top: calc(8px + env(safe-area-inset-top)) !important;
        left: auto !important;
        right: calc(40vw + 16px) !important; /* Right side of map area */
    }
    
    /* Back button - top left */
    .back-badge {
        position: fixed !important;
        top: calc(8px + env(safe-area-inset-top)) !important;
        left: 8px !important;
    }
    
    /* Map controls - bottom right of map area */
    .map-controls-stack {
        position: fixed !important;
        top: auto !important;
        bottom: calc(16px + env(safe-area-inset-bottom)) !important;
        right: calc(40vw + 16px) !important; /* 16px from panel edge */
        left: auto !important;
    }
    
    /* Walking time badge - top right of map area */
    #walking-time {
        position: fixed !important;
        top: calc(60px + env(safe-area-inset-top)) !important;
        bottom: auto !important;
        right: calc(40vw + 16px) !important;
        left: auto !important;
    }
    
    /* Calorie badge - below walking time */
    #calorie-badge {
        position: fixed !important;
        top: calc(110px + env(safe-area-inset-top)) !important;
        bottom: auto !important;
        right: calc(40vw + 16px) !important;
        left: auto !important;
    }
    
    /* Floating controls - top of panel */
    #floating-controls {
        position: fixed !important;
        top: calc(8px + env(safe-area-inset-top)) !important;
        left: calc(60vw + 16px) !important;
        right: 16px !important;
        width: auto !important;
        z-index: 10100;
    }
    
    /* Quick actions - in panel, always visible */
    .quick-actions-panel {
        position: relative !important;
        margin-top: 0 !important;
    }
    
    /* Routes list - scrollable */
    .routes-list {
        overflow-y: auto !important;
        max-height: none !important;
        padding-bottom: 40px !important;
        touch-action: pan-y !important; /* Allow vertical scrolling */
        -webkit-overflow-scrolling: touch !important;
    }
    
    /* Skyline - hide in landscape to save space */
    .skyline-inline {
        display: none !important;
    }
    
    /* Crosshair - center of map (30vw from left) */
    .map-crosshair {
        left: 30vw !important;
        right: auto !important;
    }
    
    /* Distance circles - adjust for map width */
    .distance-circle-label {
        font-size: 9px !important;
    }
    
    /* Station cards - adjust for narrower panel */
    .station-card {
        padding: 12px !important;
    }
    
    .station-name {
        font-size: 0.9rem !important;
    }
    
    /* Routes header */
    .routes-header {
        padding: 12px 0 !important;
    }
    
    /* Detail overlay - adjust for panel */
    .detail-bus-overlay-panel {
        left: calc(60vw + 16px) !important;
        right: 16px !important;
        width: auto !important;
    }
}
